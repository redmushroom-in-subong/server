package com.rms.drifeserver.domain.user.dao;

import com.rms.drifeserver.domain.store.model.Store;
import com.rms.drifeserver.domain.user.model.User;
import com.rms.drifeserver.domain.user.service.dto.response.MyStoreResponse;
import org.springframework.data.domain.Pageable;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;
import org.springframework.stereotype.Repository;

import java.util.List;
import java.util.Optional;

@Repository
public interface MyStoreRepository extends JpaRepository<User, Long> {
    /**
     *     private Long storeId;
     *     private String storeName;
     *     private String thumbnailImage;
     *     private int regularCustomerCount;
     *     private int visitCount;
     *     private boolean isLike;
     *
     *
     * @param userId
     * @param pageble
     * @return
     */
    Optional<User> findById(Long id);
    //TODO 단골 손님에 대한 기준, 현재 쿼리로 알아내야 할 지 이벤트 기반으로 단골 손님을 넣어야 할지
    // - 단골수가 자주 쓰이기 때문에 따로저장이 맞을것같음
    //TODO 내가 단골인 가계의 기준이 모호함 일단 보류했음
    //TODO store에 thumbnail 필드를 둬야 할 것 같은디
    @Query("select new com.rms.drifeserver.domain.user.service.dto.response.MyStoreResponse(" +
            "s.id," +
            "s.storeName," +
            "'data:image/jpeg;base64,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 '," +
            "0," +
            "s.visits.size," +
            "(l.store is not null) )" +
            "from Store s join s.visits v left join s.likes l " +
            "where v.user.id=:userId order by v.Id")
    List<MyStoreResponse> findRecentStore(@Param("userId") Long userId);
    @Query("select u from User u ")
    List<MyStoreResponse> findFrequentStore(@Param("userId") Long userId);
    @Query("select new com.rms.drifeserver.domain.user.service.dto.response.MyStoreResponse(" +
            "s.id," +
            "s.storeName," +
            "'data:image/jpeg;base64,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'," +
            "0," +
            "s.visits.size," +
            "(l.store is not null) )" +
            "from Store s join s.likes l   " +
            "where l.user.id=:userId ")
    List<MyStoreResponse> findFavoriteStore(@Param("userId") Long userId);
}
